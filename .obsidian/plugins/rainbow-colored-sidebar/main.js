/*
Obsidian Rainbow Colored Sidebar
Copyright Â© 2025 Kevin Woblick <contact@kovah.de>
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var m=Object.defineProperty;var x=Object.getOwnPropertyDescriptor;var C=Object.getOwnPropertyNames;var T=Object.prototype.hasOwnProperty;var A=(n,t)=>{for(var e in t)m(n,e,{get:t[e],enumerable:!0})},k=(n,t,e,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of C(t))!T.call(n,a)&&a!==e&&m(n,a,{get:()=>t[a],enumerable:!(s=x(t,a))||s.enumerable});return n};var D=n=>k(m({},"__esModule",{value:!0}),n);var q={};A(q,{default:()=>p});module.exports=D(q);var i=require("obsidian");var F=["#7dcf02","#00c851","#00bc7c","#00bba7","#00b8db","#00a6f5","#2a7fff","#615fff","#ad46ff","#e12afb","#f6329b","#ff2056","#fa2b37","#ff6801","#fd9a02","#f0b102"],I=["#ff2056","#fa2b37","#ff6801","#fd9a02","#f0b102","#7dcf02","#00c851","#00bc7c","#00bba7","#00b8db","#00a6f5","#2a7fff","#615fff","#ad46ff","#e12afb","#f6329b"],O=["#ad46ff","#e12afb","#f6329b","#ff2056","#fa2b37","#ff6801","#fd9a02","#f0b102","#7dcf02","#00c851","#00bc7c","#00bba7","#00b8db","#00a6f5","#2a7fff","#615fff"],_=["#fd9a02","#f0b102","#7dcf02","#00c851","#00bc7c","#00bba7","#00b8db","#00a6f5","#2a7fff","#615fff","#ad46ff","#e12afb","#f6329b","#ff2056","#fa2b37","#ff6801"],N=["#00b8db","#00a6f5","#2a7fff","#615fff","#ad46ff","#e12afb","#f6329b","#ff2056","#fa2b37","#ff6801","#fd9a02","#f0b102","#7dcf02","#00c851","#00bc7c","#00bba7"],$=["#00b8db","#f6329b","#7dcf02","#fa2b37","#2a7fff","#ad46ff","#00a6f5","#ff6801","#615fff","#e12afb","#00c851","#fd9a02","#00bba7","#ff2056","#f0b102","#00bc7c"],H=["#00bc7c","#00bba7","#00b8db","#00a6f5","#2a7fff","#615fff","#2a7fff","#00a6f5","#00b8db","#00bba7","#00bc7c","#00bba7","#00b8db","#00a6f5","#2a7fff","#615fff"],M=["#ff2056","#fa2b37","#ff6801","#fd9a02","#f0b102","#fd9a02","#ff6801","#fa2b37","#ff2056","#fa2b37","#ff6801","#fd9a02","#f0b102","#fd9a02","#ff6801","#fa2b37"],P=["#7dcf02","#00bc7c","#00b8db","#2a7fff","#ad46ff","#f6329b","#fa2b37","#fd9a02","#fa2b37","#f6329b","#ad46ff","#2a7fff","#00b8db","#00bc7c","#7dcf02","#00bc7c"],d={csDefault:F,csRed:I,csYellow:_,csPurple:O,csBlue:N,csMixed:$,csBlueWave:H,csSummerVibes:M,csA11y:P};var R={scheme:"csDefault",increaseContrast:!1,folderList:[]},p=class extends i.Plugin{async onload(){await this.loadSettings(),this.app.workspace.onLayoutReady(this.boot.bind(this)),this.registerEvent(this.app.workspace.on("layout-change",this.boot.bind(this))),this.addSettingTab(new g(this.app,this))}async boot(){await this.setColorScheme(),await this.setFolderStyling(),this.registerFileTreeObserver()}onunload(){this.mutationObserver.disconnect(),d[this.settings.scheme].forEach((t,e)=>{document.documentElement.style.removeProperty(`--rcs-color-${e+1}`)}),document.documentElement.removeAttribute("data-rcs-a11y"),this.resetFolderStyling()}async loadSettings(){this.settings=Object.assign({},R,await this.loadData())}async saveSettings(){await this.saveData(this.settings),await this.setColorScheme(),this.resetFolderStyling(),await this.setFolderStyling()}async setColorScheme(){d[this.settings.scheme].forEach((e,s)=>{document.documentElement.style.setProperty(`--rcs-color-${s+1}`,e)}),this.settings.increaseContrast?document.documentElement.setAttribute("data-rcs-a11y","1"):document.documentElement.removeAttribute("data-rcs-a11y")}async setFolderStyling(){var s,a,o,h,b,v,S;let t=(await this.app.vault.adapter.list("/")).folders.filter(r=>r!==this.app.vault.configDir);if(t)for(let r=0;r<t.length;r++){let c=r%16+1;(a=(s=document.querySelector(`[data-path="${t[r]}"]`))==null?void 0:s.parentElement)==null||a.classList.add(`rcs-item-${c}`)}let e=this.settings.folderList;if(e)for(let r=0;r<e.length;r++){let c=(await this.app.vault.adapter.list(e[r])).folders.filter(f=>f!==this.app.vault.configDir),w=e[r].split("/")[0],u,E=(o=document.querySelector(`[data-path="${w}"]`))==null?void 0:o.parentElement;if(E&&(u=Array.from(E.classList).filter(f=>f.includes("rcs-item"))[0],u)){let f=Number(u[u.length-1]+1);for(let l=0;l<c.length;l++){let L=(f+1+l)%16+1;(b=(h=document.querySelector(`[data-path="${c[l]}"]`))==null?void 0:h.parentElement)==null||b.classList.add(`rcs-item-${L}`),(S=(v=document.querySelector(`[data-path="${c[l]}"]`))==null?void 0:v.parentElement)==null||S.classList.add("rcs-sub-item")}}}}resetFolderStyling(){document.querySelectorAll('.tree-item[class*="rcs-"]').forEach(t=>{Array.from(t.classList).filter(e=>e.startsWith("rcs-")).forEach(e=>t.classList.remove(e))})}registerFileTreeObserver(){var e;(e=this.mutationObserver)==null||e.disconnect();let t=document.querySelector(".nav-files-container");this.mutationObserver=new MutationObserver(()=>{this.mutationTimeout&&clearTimeout(this.mutationTimeout),this.mutationTimeout=setTimeout(async()=>{await this.setFolderStyling()},200)}),this.mutationObserver.observe(t,{childList:!0,subtree:!0})}},g=class extends i.PluginSettingTab{constructor(t,e){super(t,e),this.plugin=e}display(){let{containerEl:t}=this;t.empty();let e=new i.Setting(t).setName("Color Scheme").setDesc("Select the color scheme you want to use for your sidebar").setClass("rcs-schemes");for(let s in d){let a=e.controlEl.createEl("label",{attr:{class:"rcs-scheme-input"}}),o=a.createEl("input",{attr:{name:"rcs-scheme-radio",type:"radio",value:s}});o.addEventListener("change",this.changeColorScheme.bind(this)),this.plugin.settings.scheme===s&&o.setAttribute("checked","checked"),a.createEl("span",{text:s.replace("cs","")});let h=a.createEl("div",{attr:{class:"rcs-color-stripe"}});d[s].forEach(b=>{h.createEl("div",{attr:{style:"background-color:"+b}})})}new i.Setting(t).setName("Accessibility").setHeading(),new i.Setting(t).setName("Increase Contrast").setDesc("This setting increases the contrast for the applied color scheme for better readability.").addToggle(s=>s.setValue(this.plugin.settings.increaseContrast).onChange(async a=>{this.plugin.settings.increaseContrast=a,await this.plugin.saveSettings()})),new i.Setting(t).setHeading().setName("Enable Independent Color Scheme for Specific Folders").setDesc("This restarts the color scheme for selected sub folders to distinguish them from top level folders."),new i.Setting(t).setDesc("List of folders").addExtraButton(s=>{s.setIcon("plus").setTooltip("Add folder").onClick(()=>{this.plugin.settings.folderList.push(""),this.display()})});for(let s=0;s<this.plugin.settings.folderList.length;s++)new i.Setting(t).addSearch(a=>{a.setPlaceholder("Example: folder1/folder2").setValue(this.plugin.settings.folderList[s]).onChange(async o=>{this.plugin.settings.folderList[s]=o,await this.plugin.saveSettings()}),new y(this.app,a.inputEl)}).addExtraButton(a=>{a.setIcon("trash").setTooltip("Remove this folder").onClick(()=>{this.plugin.settings.folderList.splice(s,1),this.plugin.saveSettings(),this.display()})});t.createEl("br"),t.createEl("hr"),t.createEl("small").innerHTML='\u2764\uFE0F Support my work via <a href="https://patreon.com/Kovah" target="_blank">Patreon</a>, <a href="https://github.com/Kovah" target="_blank">GitHub Sponsors</a> or <a href="https://liberapay.com/kovah" target="_blank">Liberapay</a>'}async changeColorScheme(t){this.plugin.settings.scheme=t.target.value,await this.plugin.saveSettings()}},y=class extends i.AbstractInputSuggest{constructor(e,s){super(e,s);this.inputEl=s;this.folders=["/"].concat(this.app.vault.getAllFolders().map(a=>a.path))}getSuggestions(e){let s=e.toLowerCase();return this.folders.filter(a=>a.toLowerCase().includes(s))}renderSuggestion(e,s){s.createEl("div",{text:e})}selectSuggestion(e){this.inputEl.value=e;let s=new Event("input");this.inputEl.dispatchEvent(s),this.close()}};

/* nosourcemap */